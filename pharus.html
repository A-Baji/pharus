

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>pharus package &mdash; Pharus  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="API" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Pharus
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="user.html">User Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="developer.html">Developer Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dev_notes.html">General Notes</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="modules.html">API</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">pharus package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-pharus.error">pharus.error module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pharus.interface">pharus.interface module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pharus.server">pharus.server module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pharus.version">pharus.version module</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Pharus</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="developer.html">Developer Documentation</a> &raquo;</li>
        
          <li><a href="modules.html">API</a> &raquo;</li>
        
      <li>pharus package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/pharus.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pharus-package">
<h1>pharus package<a class="headerlink" href="#pharus-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-pharus.error">
<span id="pharus-error-module"></span><h2>pharus.error module<a class="headerlink" href="#module-pharus.error" title="Permalink to this headline">¶</a></h2>
<p>Error class library.</p>
<dl class="py exception">
<dt id="pharus.error.InvalidDeleteRequest">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">pharus.error.</span></code><code class="sig-name descname"><span class="pre">InvalidDeleteRequest</span></code><a class="headerlink" href="#pharus.error.InvalidDeleteRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Exception raised when attempting to delete &gt;1 or &lt;1 records.</p>
</dd></dl>

<dl class="py exception">
<dt id="pharus.error.InvalidRestriction">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">pharus.error.</span></code><code class="sig-name descname"><span class="pre">InvalidRestriction</span></code><a class="headerlink" href="#pharus.error.InvalidRestriction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Exception raised when restrictions result in no records when expected at least one.</p>
</dd></dl>

<dl class="py exception">
<dt id="pharus.error.UnsupportedTableType">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">pharus.error.</span></code><code class="sig-name descname"><span class="pre">UnsupportedTableType</span></code><a class="headerlink" href="#pharus.error.UnsupportedTableType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Exception raised on unsupported table types.</p>
</dd></dl>

</div>
<div class="section" id="module-pharus.interface">
<span id="pharus-interface-module"></span><h2>pharus.interface module<a class="headerlink" href="#module-pharus.interface" title="Permalink to this headline">¶</a></h2>
<p>Library for interfaces into DataJoint pipelines.</p>
<dl class="py class">
<dt id="pharus.interface.DJConnector">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">pharus.interface.</span></code><code class="sig-name descname"><span class="pre">DJConnector</span></code><a class="headerlink" href="#pharus.interface.DJConnector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Primary connector that communicates with a DataJoint database server.</p>
<dl class="py method">
<dt id="pharus.interface.DJConnector.attempt_login">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">attempt_login</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">database_address</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">dict</span><a class="headerlink" href="#pharus.interface.DJConnector.attempt_login" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to authenticate against database with given username and address.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>database_address</strong> (<em>str</em>) – Address of database</p></li>
<li><p><strong>username</strong> (<em>str</em>) – Username of user</p></li>
<li><p><strong>password</strong> (<em>str</em>) – Password of user</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary with keys: result (<code class="docutils literal notranslate"><span class="pre">True</span></code> | <code class="docutils literal notranslate"><span class="pre">False</span></code>), and error (if
applicable)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pharus.interface.DJConnector.delete_tuple">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">delete_tuple</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple_to_restrict_by</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cascade</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pharus.interface.DJConnector.delete_tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a specific record based on the restriction given (supports only deleting one at
a time).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password
strings</p></li>
<li><p><strong>schema_name</strong> (<em>str</em>) – Name of schema to list all tables from</p></li>
<li><p><strong>table_name</strong> (<em>str</em>) – Table name under the given schema; must be in camel case</p></li>
<li><p><strong>tuple_to_restrict_by</strong> (<em>dict</em>) – Record to restrict the table by to delete</p></li>
<li><p><strong>cascade</strong> (<em>bool</em>) – Allow for cascading delete, defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pharus.interface.DJConnector.fetch_tuples">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">fetch_tuples</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restriction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">list</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['KEY</span> <span class="pre">ASC']</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">tuple</span><a class="headerlink" href="#pharus.interface.DJConnector.fetch_tuples" title="Permalink to this definition">¶</a></dt>
<dd><p>Get records as tuples from table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password
strings</p></li>
<li><p><strong>schema_name</strong> (<em>str</em>) – Name of schema to list all tables from</p></li>
<li><p><strong>table_name</strong> (<em>str</em>) – Table name under the given schema; must be in camel case</p></li>
<li><p><strong>restriction</strong> (<em>list</em><em>, </em><em>optional</em>) – Sequence of filters as <code class="docutils literal notranslate"><span class="pre">dict</span></code> with <code class="docutils literal notranslate"><span class="pre">attributeName</span></code>,
<code class="docutils literal notranslate"><span class="pre">operation</span></code>, <code class="docutils literal notranslate"><span class="pre">value</span></code> keys defined, defaults to <code class="docutils literal notranslate"><span class="pre">[]</span></code></p></li>
<li><p><strong>limit</strong> (<em>int</em><em>, </em><em>optional</em>) – Max number of records to return, defaults to <code class="docutils literal notranslate"><span class="pre">1000</span></code></p></li>
<li><p><strong>page</strong> (<em>int</em><em>, </em><em>optional</em>) – Page number to return, defaults to <code class="docutils literal notranslate"><span class="pre">1</span></code></p></li>
<li><p><strong>order</strong> (<em>list</em><em>, </em><em>optional</em>) – Sequence to order records, defaults to <code class="docutils literal notranslate"><span class="pre">['KEY</span> <span class="pre">ASC']</span></code>. See
<code class="xref py py-class docutils literal notranslate"><span class="pre">Fetch</span></code> for more info.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Records in dict form and the total number of records that can be paged</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pharus.interface.DJConnector.get_table_attributes">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">get_table_attributes</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">dict</span><a class="headerlink" href="#pharus.interface.DJConnector.get_table_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to get primary and secondary attributes of a table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password
strings</p></li>
<li><p><strong>schema_name</strong> (<em>str</em>) – Name of schema to list all tables from</p></li>
<li><p><strong>table_name</strong> (<em>str</em>) – Table name under the given schema; must be in camel case</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dict with keys <code class="docutils literal notranslate"><span class="pre">primary_attributes</span></code>, <code class="docutils literal notranslate"><span class="pre">secondary_attributes</span></code> containing a
<code class="docutils literal notranslate"><span class="pre">list</span></code> of <code class="docutils literal notranslate"><span class="pre">tuples</span></code> specifying: <code class="docutils literal notranslate"><span class="pre">attribute_name</span></code>, <code class="docutils literal notranslate"><span class="pre">type</span></code>, <code class="docutils literal notranslate"><span class="pre">nullable</span></code>,
<code class="docutils literal notranslate"><span class="pre">default</span></code>, <code class="docutils literal notranslate"><span class="pre">autoincrement</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pharus.interface.DJConnector.get_table_definition">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">get_table_definition</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="headerlink" href="#pharus.interface.DJConnector.get_table_definition" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the table definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password
strings</p></li>
<li><p><strong>schema_name</strong> (<em>str</em>) – Name of schema to list all tables from</p></li>
<li><p><strong>table_name</strong> (<em>str</em>) – Table name under the given schema; must be in camel case</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Definition of the table</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pharus.interface.DJConnector.get_table_object">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">get_table_object</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schema_virtual_module</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">datajoint.schemas.VirtualModule</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">datajoint.user_tables.UserTable</span><a class="headerlink" href="#pharus.interface.DJConnector.get_table_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method for getting the table object based on the table name provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>schema_virtual_module</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">VirtualModule</span></code>) – Virtual module for accesing the schema</p></li>
<li><p><strong>table_name</strong> (<em>str</em>) – Name of the table; for part it should be <code class="docutils literal notranslate"><span class="pre">Parent.Part</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataJoint table object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UserTable</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pharus.interface.DJConnector.insert_tuple">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">insert_tuple</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple_to_insert</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pharus.interface.DJConnector.insert_tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert record as tuple into table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password
strings</p></li>
<li><p><strong>schema_name</strong> (<em>str</em>) – Name of schema to list all tables from</p></li>
<li><p><strong>table_name</strong> (<em>str</em>) – Table name under the given schema; must be in camel case</p></li>
<li><p><strong>tuple_to_insert</strong> (<em>dict</em>) – Record to be inserted</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pharus.interface.DJConnector.list_schemas">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">list_schemas</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">list</span><a class="headerlink" href="#pharus.interface.DJConnector.list_schemas" title="Permalink to this definition">¶</a></dt>
<dd><p>List all schemas under the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password
strings</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of schemas names in alphabetical order (excludes <code class="docutils literal notranslate"><span class="pre">information_schema</span></code>,
<code class="docutils literal notranslate"><span class="pre">sys</span></code>, <code class="docutils literal notranslate"><span class="pre">performance_schema</span></code>, <code class="docutils literal notranslate"><span class="pre">mysql</span></code>)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pharus.interface.DJConnector.list_tables">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">list_tables</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">dict</span><a class="headerlink" href="#pharus.interface.DJConnector.list_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>List all tables and their type given a schema.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password
strings</p></li>
<li><p><strong>schema_name</strong> (<em>str</em>) – Name of schema to list all tables from</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Contains a key for each table type where values are the respective list of
table names</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pharus.interface.DJConnector.record_dependency">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">record_dependency</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_restriction</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">list</span><a class="headerlink" href="#pharus.interface.DJConnector.record_dependency" title="Permalink to this definition">¶</a></dt>
<dd><p>Return summary of dependencies associated with a restricted table. Will only show
dependencies that user has access to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password
strings</p></li>
<li><p><strong>schema_name</strong> (<em>str</em>) – Name of schema</p></li>
<li><p><strong>table_name</strong> (<em>str</em>) – Table name under the given schema; must be in camel case</p></li>
<li><p><strong>primary_restriction</strong> (<em>dict</em>) – Restriction to be applied to table</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tables that are dependent on specific records.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pharus.interface.DJConnector.set_datajoint_config">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">set_datajoint_config</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pharus.interface.DJConnector.set_datajoint_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to set credentials for database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password
strings</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pharus.interface.DJConnector.update_tuple">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">update_tuple</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple_to_update</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pharus.interface.DJConnector.update_tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Update record as tuple into table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password
strings</p></li>
<li><p><strong>schema_name</strong> (<em>str</em>) – Name of schema to list all tables from</p></li>
<li><p><strong>table_name</strong> (<em>str</em>) – Table name under the given schema; must be in camel case</p></li>
<li><p><strong>tuple_to_update</strong> (<em>dict</em>) – Record to be updated</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pharus.server">
<span id="pharus-server-module"></span><h2>pharus.server module<a class="headerlink" href="#module-pharus.server" title="Permalink to this headline">¶</a></h2>
<p>Exposed REST API.</p>
<dl class="py function">
<dt id="pharus.server.api_version">
<code class="sig-prename descclassname"><span class="pre">pharus.server.</span></code><code class="sig-name descname"><span class="pre">api_version</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="headerlink" href="#pharus.server.api_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler for <code class="docutils literal notranslate"><span class="pre">/version</span></code> route.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>API version</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
<dl class="http get">
<dt id="get--version">
<code class="sig-name descname"><span class="pre">GET</span> </code><code class="sig-name descname"><span class="pre">/version</span></code><a class="headerlink" href="#get--version" title="Permalink to this definition">¶</a></dt>
<dd><p>Route to check server health returning the API version.</p>
<p><strong>Example request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/version</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">fakeservices.datajoint.io</span>
</pre></div>
</div>
<p><strong>Example response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>

0.1.0
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Status Codes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – No error.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pharus.server.delete_tuple">
<code class="sig-prename descclassname"><span class="pre">pharus.server.</span></code><code class="sig-name descname"><span class="pre">delete_tuple</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">dict</span><a class="headerlink" href="#pharus.server.delete_tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler for <code class="docutils literal notranslate"><span class="pre">/delete_tuple</span></code> route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password strings.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If successful returns <code class="docutils literal notranslate"><span class="pre">Delete</span> <span class="pre">Successful</span></code> otherwise returns error.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<dl class="http post">
<dt id="post--delete_tuple">
<code class="sig-name descname"><span class="pre">POST</span> </code><code class="sig-name descname"><span class="pre">/delete_tuple</span></code><a class="headerlink" href="#post--delete_tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Route to delete a specific record.</p>
<p><strong>Example request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/delete_tuple</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">fakeservices.datajoint.io</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>

{
    &quot;schemaName&quot;: &quot;alpha_company&quot;,
    &quot;tableName&quot;: &quot;Computer&quot;,
    &quot;restrictionTuple&quot;: {
        &quot;computer_id&quot;: &quot;4e41491a-86d5-4af7-a013-89bde75528bd&quot;
    }
}
</pre></div>
</div>
<p><strong>Example successful response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>

Delete Successful
</pre></div>
</div>
<p><strong>Example conflict response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">409</span> <span class="ne">Conflict</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
    <span class="nt">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;IntegrityError&quot;</span><span class="p">,</span>
    <span class="nt">&quot;error_msg&quot;</span><span class="p">:</span> <span class="s2">&quot;Cannot delete or update a parent row: a foreign key constraint</span>
<span class="s2">        fails (`alpha_company`.`#employee`, CONSTRAINT `#employee_ibfk_1` FOREIGN</span>
<span class="s2">        KEY (`computer_id`) REFERENCES `computer` (`computer_id`) ON DELETE</span>
<span class="s2">        RESTRICT ON UPDATE CASCADE&quot;</span><span class="p">,</span>
    <span class="nt">&quot;child_schema&quot;</span><span class="p">:</span> <span class="s2">&quot;alpha_company&quot;</span><span class="p">,</span>
    <span class="nt">&quot;child_table&quot;</span><span class="p">:</span> <span class="s2">&quot;Employee&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example unexpected response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>

400 Bad Request: The browser (or proxy) sent a request that this server could not
    understand.
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Query Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cascade</strong> – Enable cascading delete. Accepts <code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>.
Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Request Headers</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7235#section-4.2">Authorization</a> – Bearer &lt;OAuth2_token&gt;</p></li>
</ul>
</dd>
<dt class="field-odd">Response Headers</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a> – text/plain, application/json</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – No error.</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.10">409 Conflict</a> – Attempting to delete a record with dependents while <code class="docutils literal notranslate"><span class="pre">cascade</span></code> set
to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.1">500 Internal Server Error</a> – Unexpected error encountered. Returns the error message as a string.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pharus.server.fetch_tuples">
<code class="sig-prename descclassname"><span class="pre">pharus.server.</span></code><code class="sig-name descname"><span class="pre">fetch_tuples</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">dict</span><a class="headerlink" href="#pharus.server.fetch_tuples" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler for <code class="docutils literal notranslate"><span class="pre">/fetch_tuple</span></code> route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password strings.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If successful then sends back dict with records and total count from query
otherwise returns error.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<dl class="http post">
<dt id="post--fetch_tuple">
<code class="sig-name descname"><span class="pre">POST</span> </code><code class="sig-name descname"><span class="pre">/fetch_tuple</span></code><a class="headerlink" href="#post--fetch_tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Route to fetch records.</p>
<p><strong>Example request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/fetch_tuples?limit=2&amp;page=1&amp;order=computer_id%20DESC&amp;restriction=W3siYXR0cmlidXRlTmFtZSI6ICJjb21wdXRlcl9tZW1vcnkiLCAib3BlcmF0aW9uIjogIj49IiwgInZhbHVlIjogMzJ9XQo=</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">fakeservices.datajoint.io</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>

{
    &quot;schemaName&quot;: &quot;alpha_company&quot;,
    &quot;tableName&quot;: &quot;Computer&quot;
}
</pre></div>
</div>
<p><strong>Example successful response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
    <span class="nt">&quot;total_count&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="nt">&quot;tuples&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s2">&quot;eee3491a-86d5-4af7-a013-89bde75528bd&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ABCDEFJHE&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Dell&quot;</span><span class="p">,</span>
            <span class="mi">1611705600</span><span class="p">,</span>
            <span class="mf">2.2</span><span class="p">,</span>
            <span class="mi">32</span><span class="p">,</span>
            <span class="mf">11.5</span><span class="p">,</span>
            <span class="s2">&quot;1100.93&quot;</span><span class="p">,</span>
            <span class="mi">5</span><span class="p">,</span>
            <span class="mi">1614265209</span><span class="p">,</span>
            <span class="mi">0</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s2">&quot;ddd1491a-86d5-4af7-a013-89bde75528bd&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ABCDEFJHI&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Dell&quot;</span><span class="p">,</span>
            <span class="mi">1614556800</span><span class="p">,</span>
            <span class="mf">2.8</span><span class="p">,</span>
            <span class="mi">64</span><span class="p">,</span>
            <span class="mf">13.5</span><span class="p">,</span>
            <span class="s2">&quot;1200.99&quot;</span><span class="p">,</span>
            <span class="mi">2</span><span class="p">,</span>
            <span class="mi">1614564122</span><span class="p">,</span>
            <span class="kc">null</span>
        <span class="p">]</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example unexpected response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>

400 Bad Request: The browser (or proxy) sent a request that this server could not
    understand.
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Query Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>limit</strong> – Limit of how many records per page. Defaults to <code class="docutils literal notranslate"><span class="pre">1000</span></code>.</p></li>
<li><p><strong>page</strong> – Page requested. Defaults to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p><strong>order</strong> – Sort order. Defaults to <code class="docutils literal notranslate"><span class="pre">KEY</span> <span class="pre">ASC</span></code>.</p></li>
<li><p><strong>restriction</strong> – Base64-encoded <code class="docutils literal notranslate"><span class="pre">AND</span></code> sequence of restrictions. For example, you
could restrict as <code class="docutils literal notranslate"><span class="pre">[{&quot;attributeName&quot;:</span> <span class="pre">&quot;computer_memory&quot;&gt;=&quot;,</span> <span class="pre">&quot;value&quot;:</span> <span class="pre">32}]</span></code> with
this param set as <code class="docutils literal notranslate"><span class="pre">W3siYXR0cmlidXRlTmFtZSI6ICJjb21wdXRlcl9tZW1vcnkiLCAib3BlcmF0aW9uIjo</span></code>-<code class="docutils literal notranslate"><span class="pre">gIj49IiwgInZhbHVlIjogMzJ9XQo=</span></code>. Defaults to no restriction.</p></li>
</ul>
</dd>
<dt class="field-even">Request Headers</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7235#section-4.2">Authorization</a> – Bearer &lt;OAuth2_token&gt;</p></li>
</ul>
</dd>
<dt class="field-odd">Response Headers</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a> – text/plain, application/json</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – No error.</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.1">500 Internal Server Error</a> – Unexpected error encountered. Returns the error message as a string.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pharus.server.get_table_attributes">
<code class="sig-prename descclassname"><span class="pre">pharus.server.</span></code><code class="sig-name descname"><span class="pre">get_table_attributes</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">dict</span><a class="headerlink" href="#pharus.server.get_table_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler for <code class="docutils literal notranslate"><span class="pre">/get_table_attributes</span></code> route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password strings.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If successful then sends back dict of table attributes otherwise returns error.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<dl class="http post">
<dt id="post--get_table_attributes">
<code class="sig-name descname"><span class="pre">POST</span> </code><code class="sig-name descname"><span class="pre">/get_table_attributes</span></code><a class="headerlink" href="#post--get_table_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Route to get metadata on table attributes.</p>
<p><strong>Example request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/get_table_attributes</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">fakeservices.datajoint.io</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>

{
    &quot;schemaName&quot;: &quot;alpha_company&quot;,
    &quot;tableName&quot;: &quot;Computer&quot;
}
</pre></div>
</div>
<p><strong>Example successful response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
    <span class="nt">&quot;primary_attributes&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s2">&quot;computer_id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;uuid&quot;</span><span class="p">,</span>
            <span class="kc">false</span><span class="p">,</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="kc">false</span>
        <span class="p">]</span>
    <span class="p">],</span>
    <span class="nt">&quot;secondary_attributes&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s2">&quot;computer_serial&quot;</span><span class="p">,</span>
            <span class="s2">&quot;varchar(9)&quot;</span><span class="p">,</span>
            <span class="kc">false</span><span class="p">,</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="kc">false</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s2">&quot;computer_brand&quot;</span><span class="p">,</span>
            <span class="s2">&quot;enum(&#39;HP&#39;,&#39;Dell&#39;)&quot;</span><span class="p">,</span>
            <span class="kc">false</span><span class="p">,</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="kc">false</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s2">&quot;computer_built&quot;</span><span class="p">,</span>
            <span class="s2">&quot;date&quot;</span><span class="p">,</span>
            <span class="kc">false</span><span class="p">,</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="kc">false</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s2">&quot;computer_processor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;double&quot;</span><span class="p">,</span>
            <span class="kc">false</span><span class="p">,</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="kc">false</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s2">&quot;computer_memory&quot;</span><span class="p">,</span>
            <span class="s2">&quot;int&quot;</span><span class="p">,</span>
            <span class="kc">false</span><span class="p">,</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="kc">false</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s2">&quot;computer_weight&quot;</span><span class="p">,</span>
            <span class="s2">&quot;float&quot;</span><span class="p">,</span>
            <span class="kc">false</span><span class="p">,</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="kc">false</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s2">&quot;computer_cost&quot;</span><span class="p">,</span>
            <span class="s2">&quot;decimal(6,2)&quot;</span><span class="p">,</span>
            <span class="kc">false</span><span class="p">,</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="kc">false</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s2">&quot;computer_preowned&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tinyint&quot;</span><span class="p">,</span>
            <span class="kc">false</span><span class="p">,</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="kc">false</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s2">&quot;computer_purchased&quot;</span><span class="p">,</span>
            <span class="s2">&quot;datetime&quot;</span><span class="p">,</span>
            <span class="kc">false</span><span class="p">,</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="kc">false</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s2">&quot;computer_updates&quot;</span><span class="p">,</span>
            <span class="s2">&quot;time&quot;</span><span class="p">,</span>
            <span class="kc">true</span><span class="p">,</span>
            <span class="s2">&quot;null&quot;</span><span class="p">,</span>
            <span class="kc">false</span>
        <span class="p">]</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example unexpected response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>

400 Bad Request: The browser (or proxy) sent a request that this server could not
    understand.
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Request Headers</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7235#section-4.2">Authorization</a> – Bearer &lt;OAuth2_token&gt;</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a> – text/plain, application/json</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – No error.</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.1">500 Internal Server Error</a> – Unexpected error encountered. Returns the error message as a string.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pharus.server.get_table_definition">
<code class="sig-prename descclassname"><span class="pre">pharus.server.</span></code><code class="sig-name descname"><span class="pre">get_table_definition</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="headerlink" href="#pharus.server.get_table_definition" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler for <code class="docutils literal notranslate"><span class="pre">/get_table_definition</span></code> route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password strings.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If successful then sends back definition for table otherwise returns error.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<dl class="http post">
<dt id="post--get_table_definition">
<code class="sig-name descname"><span class="pre">POST</span> </code><code class="sig-name descname"><span class="pre">/get_table_definition</span></code><a class="headerlink" href="#post--get_table_definition" title="Permalink to this definition">¶</a></dt>
<dd><p>Route to get DataJoint table definition.</p>
<p><strong>Example request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/get_table_definition</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">fakeservices.datajoint.io</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>

{
    &quot;schemaName&quot;: &quot;alpha_company&quot;,
    &quot;tableName&quot;: &quot;Computer&quot;
}
</pre></div>
</div>
<p><strong>Example successful response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>

# Computers that belong to the company
computer_id          : uuid                     # unique id
---
computer_serial      : varchar(9)               # manufacturer serial number
computer_brand       : enum(&#39;HP&#39;,&#39;Dell&#39;)        # manufacturer brand
computer_built       : date                     # manufactured date
computer_processor   : double                   # processing power in GHz
computer_memory      : int                      # RAM in GB
computer_weight      : float                    # weight in lbs
computer_cost        : decimal(6,2)             # purchased price
computer_preowned    : tinyint                  # purchased as new or used
computer_purchased   : datetime                 # purchased date and time
computer_updates=null : time                     # scheduled daily update timeslot
</pre></div>
</div>
<p><strong>Example unexpected response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>

400 Bad Request: The browser (or proxy) sent a request that this server could not
    understand.
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Request Headers</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7235#section-4.2">Authorization</a> – Bearer &lt;OAuth2_token&gt;</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a> – text/plain</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – No error.</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.1">500 Internal Server Error</a> – Unexpected error encountered. Returns the error message as a string.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pharus.server.insert_tuple">
<code class="sig-prename descclassname"><span class="pre">pharus.server.</span></code><code class="sig-name descname"><span class="pre">insert_tuple</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="headerlink" href="#pharus.server.insert_tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler for <code class="docutils literal notranslate"><span class="pre">/insert_tuple</span></code> route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password strings.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If successful then returns <code class="docutils literal notranslate"><span class="pre">Insert</span> <span class="pre">Successful</span></code> otherwise returns error.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<dl class="http post">
<dt id="post--insert_tuple">
<code class="sig-name descname"><span class="pre">POST</span> </code><code class="sig-name descname"><span class="pre">/insert_tuple</span></code><a class="headerlink" href="#post--insert_tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Route to insert a record.</p>
<p><strong>Example request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/insert_tuple</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">fakeservices.datajoint.io</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>

{
    &quot;schemaName&quot;: &quot;alpha_company&quot;,
    &quot;tableName&quot;: &quot;Computer&quot;,
    &quot;tuple&quot;: {
        &quot;computer_id&quot;: &quot;ffffffff-86d5-4af7-a013-89bde75528bd&quot;,
        &quot;computer_serial&quot;: &quot;ZYXWVEISJ&quot;,
        &quot;computer_brand&quot;: &quot;HP&quot;,
        &quot;computer_built&quot;: &quot;2021-01-01&quot;,
        &quot;computer_processor&quot;: 2.7,
        &quot;computer_memory&quot;: 32,
        &quot;computer_weight&quot;: 3.7,
        &quot;computer_cost&quot;: 599.99,
        &quot;computer_preowned&quot;: 0,
        &quot;computer_purchased&quot;: &quot;2021-02-01 13:00:00&quot;,
        &quot;computer_updates&quot;: 0
    }
}
</pre></div>
</div>
<p><strong>Example successful response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>

Insert Successful
</pre></div>
</div>
<p><strong>Example unexpected response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>

400 Bad Request: The browser (or proxy) sent a request that this server could not
    understand.
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Request Headers</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7235#section-4.2">Authorization</a> – Bearer &lt;OAuth2_token&gt;</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a> – text/plain</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – No error.</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.1">500 Internal Server Error</a> – Unexpected error encountered. Returns the error message as a string.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pharus.server.list_schemas">
<code class="sig-prename descclassname"><span class="pre">pharus.server.</span></code><code class="sig-name descname"><span class="pre">list_schemas</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">dict</span><a class="headerlink" href="#pharus.server.list_schemas" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler for <code class="docutils literal notranslate"><span class="pre">/list_schemas</span></code> route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password strings.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If successful then sends back a list of schemas names otherwise returns error.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<dl class="http get">
<dt id="get--list_schemas">
<code class="sig-name descname"><span class="pre">GET</span> </code><code class="sig-name descname"><span class="pre">/list_schemas</span></code><a class="headerlink" href="#get--list_schemas" title="Permalink to this definition">¶</a></dt>
<dd><p>Route to get list of schemas.</p>
<p><strong>Example request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/list_schemas</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">fakeservices.datajoint.io</span>
</pre></div>
</div>
<p><strong>Example successful response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
    <span class="nt">&quot;schemaNames&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;alpha_company&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example unexpected response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>

400 Bad Request: The browser (or proxy) sent a request that this server could not
    understand.
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Request Headers</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7235#section-4.2">Authorization</a> – Bearer &lt;OAuth2_token&gt;</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a> – text/plain, application/json</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – No error.</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.1">500 Internal Server Error</a> – Unexpected error encountered. Returns the error message as a string.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pharus.server.list_tables">
<code class="sig-prename descclassname"><span class="pre">pharus.server.</span></code><code class="sig-name descname"><span class="pre">list_tables</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">dict</span><a class="headerlink" href="#pharus.server.list_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler for <code class="docutils literal notranslate"><span class="pre">/list_tables</span></code> route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password strings.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If successful then sends back a list of tables names otherwise returns error.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<dl class="http post">
<dt id="post--list_tables">
<code class="sig-name descname"><span class="pre">POST</span> </code><code class="sig-name descname"><span class="pre">/list_tables</span></code><a class="headerlink" href="#post--list_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>Route to get tables within a schema.</p>
<p><strong>Example request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/list_tables</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">fakeservices.datajoint.io</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>

{
    &quot;schemaName&quot;: &quot;alpha_company&quot;
}
</pre></div>
</div>
<p><strong>Example successful response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
    <span class="nt">&quot;tableTypeAndNames&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;computed_tables&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="nt">&quot;imported_tables&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="nt">&quot;lookup_tables&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;Employee&quot;</span>
        <span class="p">],</span>
        <span class="nt">&quot;manual_tables&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;Computer&quot;</span>
        <span class="p">],</span>
        <span class="nt">&quot;part_tables&quot;</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example unexpected response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>

400 Bad Request: The browser (or proxy) sent a request that this server could not
    understand.
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Request Headers</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7235#section-4.2">Authorization</a> – Bearer &lt;OAuth2_token&gt;</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a> – text/plain, application/json</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – No error.</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.1">500 Internal Server Error</a> – Unexpected error encountered. Returns the error message as a string.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pharus.server.login">
<code class="sig-prename descclassname"><span class="pre">pharus.server.</span></code><code class="sig-name descname"><span class="pre">login</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">dict</span><a class="headerlink" href="#pharus.server.login" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>WARNING</strong>: Currently, this implementation exposes user database credentials as plain
text in POST body once and stores it within a bearer token as Base64 encoded for
subsequent requests. That is how the server is able to submit queries on user’s behalf.
Due to this, it is required that remote hosts expose the server only under HTTPS to ensure
end-to-end encryption. Sending passwords in plain text over HTTPS in POST request body is
common and utilized by companies such as GitHub (2021) and Chase Bank (2021). On server
side, there is no caching, logging, or storage of received passwords or tokens and thus
available only briefly in memory. This means the primary vulnerable point is client side.
Users should be responsible with their passwords and bearer tokens treating them as
one-in-the-same. Be aware that if your client system happens to be compromised, a bad
actor could monitor your outgoing network requests and capture/log your credentials.
However, in such a terrible scenario, a bad actor would not only collect credentials for
your DataJoint database but also other sites such as github.com, chase.com, etc. Please be
responsible and vigilant with credentials and tokens on client side systems. Improvements
to the above strategy is currently being tracked in
<a class="reference external" href="https://github.com/datajoint/pharus/issues/82">https://github.com/datajoint/pharus/issues/82</a>.</p>
<p>Handler for <code class="docutils literal notranslate"><span class="pre">/login</span></code> route.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Function output is encoded jwt if successful, otherwise return error message</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
<dl class="http post">
<dt id="post--login">
<code class="sig-name descname"><span class="pre">POST</span> </code><code class="sig-name descname"><span class="pre">/login</span></code><a class="headerlink" href="#post--login" title="Permalink to this definition">¶</a></dt>
<dd><p>Route to get authentication token.</p>
<p><strong>Example request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/login</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">fakeservices.datajoint.io</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>

{
    &quot;databaseAddress&quot;: &quot;tutorial-db.datajoint.io&quot;,
    &quot;username&quot;: &quot;user1&quot;,
    &quot;password&quot;: &quot;password1&quot;
}
</pre></div>
</div>
<p><strong>Example successful response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
    <span class="nt">&quot;jwt&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;token&gt;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example unexpected response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>

400 Bad Request: The browser (or proxy) sent a request that this server could not
    understand.
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Response Headers</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a> – text/plain, application/json</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – No error.</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.1">500 Internal Server Error</a> – Unexpected error encountered. Returns the error message as a string.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pharus.server.protected_route">
<code class="sig-prename descclassname"><span class="pre">pharus.server.</span></code><code class="sig-name descname"><span class="pre">protected_route</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Callable</span><a class="headerlink" href="#pharus.server.protected_route" title="Permalink to this definition">¶</a></dt>
<dd><p>Protected route function decorator which authenticates requests.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>function</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Callable</span></code>) – Function to decorate, typically routes</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Function output if jwt authetication is successful, otherwise return error
message</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Callable</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pharus.server.record_dependency">
<code class="sig-prename descclassname"><span class="pre">pharus.server.</span></code><code class="sig-name descname"><span class="pre">record_dependency</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">dict</span><a class="headerlink" href="#pharus.server.record_dependency" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler for <code class="docutils literal notranslate"><span class="pre">/record/dependency</span></code> route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password strings.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If sucessfuly sends back a list of dependencies otherwise returns error.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<dl class="http get">
<dt id="get--record-dependency">
<code class="sig-name descname"><span class="pre">GET</span> </code><code class="sig-name descname"><span class="pre">/record/dependency</span></code><a class="headerlink" href="#get--record-dependency" title="Permalink to this definition">¶</a></dt>
<dd><p>Route to get the metadata in relation to the dependent records associated with a restricted subset of a table.</p>
<p><strong>Example request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/fetch_tuples?schemaName=alpha_company&amp;tableName=Computer&amp;restriction=W3siYXR0cmlidXRlTmFtZSI6ICJjb21wdXRlcl9tZW1vcnkiLCAib3BlcmF0aW9uIjogIj49IiwgInZhbHVlIjogMzJ9XQo=</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">fakeservices.datajoint.io</span>
</pre></div>
</div>
<p><strong>Example successful response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
    <span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;accessible&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
            <span class="nt">&quot;schema&quot;</span><span class="p">:</span> <span class="s2">&quot;alpha_company&quot;</span><span class="p">,</span>
            <span class="nt">&quot;table&quot;</span><span class="p">:</span> <span class="s2">&quot;computer&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;accessible&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="nt">&quot;schema&quot;</span><span class="p">:</span> <span class="s2">&quot;alpha_company&quot;</span><span class="p">,</span>
            <span class="nt">&quot;table&quot;</span><span class="p">:</span> <span class="s2">&quot;#employee&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example unexpected response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>

400 Bad Request: The browser (or proxy) sent a request that this server could not
    understand.
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Query Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>schemaName</strong> – Schema name.</p></li>
<li><p><strong>tableName</strong> – Table name.</p></li>
<li><p><strong>restriction</strong> – Base64-encoded <code class="docutils literal notranslate"><span class="pre">AND</span></code> sequence of restrictions. For example, you
could restrict as <code class="docutils literal notranslate"><span class="pre">[{&quot;attributeName&quot;:</span> <span class="pre">&quot;computer_memory&quot;&gt;=&quot;,</span> <span class="pre">&quot;value&quot;:</span> <span class="pre">32}]</span></code> with
this param set as <code class="docutils literal notranslate"><span class="pre">W3siYXR0cmlidXRlTmFtZSI6ICJjb21wdXRlcl9tZW1vcnkiLCAib3BlcmF0aW9uIjo</span></code>-<code class="docutils literal notranslate"><span class="pre">gIj49IiwgInZhbHVlIjogMzJ9XQo=</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Request Headers</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7235#section-4.2">Authorization</a> – Bearer &lt;OAuth2_token&gt;</p></li>
</ul>
</dd>
<dt class="field-odd">Response Headers</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a> – text/plain, application/json</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – No error.</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.1">500 Internal Server Error</a> – Unexpected error encountered. Returns the error message as a string.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pharus.server.run">
<code class="sig-prename descclassname"><span class="pre">pharus.server.</span></code><code class="sig-name descname"><span class="pre">run</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pharus.server.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts API server.</p>
</dd></dl>

<dl class="py function">
<dt id="pharus.server.update_tuple">
<code class="sig-prename descclassname"><span class="pre">pharus.server.</span></code><code class="sig-name descname"><span class="pre">update_tuple</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jwt_payload</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="headerlink" href="#pharus.server.update_tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler for <code class="docutils literal notranslate"><span class="pre">/update_tuple</span></code> route.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>jwt_payload</strong> (<em>dict</em>) – Dictionary containing databaseAddress, username, and password strings.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If successful then returns <code class="docutils literal notranslate"><span class="pre">Update</span> <span class="pre">Successful</span></code> otherwise returns error.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<dl class="http post">
<dt id="post--update_tuple">
<code class="sig-name descname"><span class="pre">POST</span> </code><code class="sig-name descname"><span class="pre">/update_tuple</span></code><a class="headerlink" href="#post--update_tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Route to update a record.</p>
<p><strong>Example request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/update_tuple</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">fakeservices.datajoint.io</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>

{
    &quot;schemaName&quot;: &quot;alpha_company&quot;,
    &quot;tableName&quot;: &quot;Computer&quot;,
    &quot;tuple&quot;: {
        &quot;computer_id&quot;: &quot;ffffffff-86d5-4af7-a013-89bde75528bd&quot;,
        &quot;computer_serial&quot;: &quot;ZYXWVEISJ&quot;,
        &quot;computer_brand&quot;: &quot;HP&quot;,
        &quot;computer_built&quot;: &quot;2021-01-01&quot;,
        &quot;computer_processor&quot;: 2.7,
        &quot;computer_memory&quot;: 32,
        &quot;computer_weight&quot;: 3.7,
        &quot;computer_cost&quot;: 399.99,
        &quot;computer_preowned&quot;: 0,
        &quot;computer_purchased&quot;: &quot;2021-02-01 13:00:00&quot;,
        &quot;computer_updates&quot;: 0
    }
}
</pre></div>
</div>
<p><strong>Example successful response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>

Update Successful
</pre></div>
</div>
<p><strong>Example unexpected response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>

400 Bad Request: The browser (or proxy) sent a request that this server could not
    understand.
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Request Headers</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7235#section-4.2">Authorization</a> – Bearer &lt;OAuth2_token&gt;</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a> – text/plain</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – No error.</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.1">500 Internal Server Error</a> – Unexpected error encountered. Returns the error message as a string.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pharus.version">
<span id="pharus-version-module"></span><h2>pharus.version module<a class="headerlink" href="#module-pharus.version" title="Permalink to this headline">¶</a></h2>
<p>Package metadata.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="modules.html" class="btn btn-neutral float-left" title="API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, DataJoint Contributors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>